<% layout('layouts/boilerPlate.ejs') %>
    <div class="col-8 offset-2"> 
    <h2>Edit Your Listing</h2>
    <form  method="POST" action="/listings/<%=listing._id%>?_method=PUT"
       novalidate class="needs-validation" 
       enctype="multipart/form-data">
        <div class="mb-3"> 
          <label for="exampleFormControlInput1" class="form-label" >Title</label>
          <input type="text"
           value="<%=listing.title%>" 
           id="exampleFormControlInput1" 
           class="form-control" 
           name="listing[title]"
           required>
           <div class="valid-feedback">
            Looks good!
          </div>
        </div>
          <div class="mb-3"> 
            <label for="description" class="form-label"> description</label>
            <input type="text" 
             value="<%=listing.description%>" 
             id="description" 
             class="form-control"
              name="listing[description]"
              required>
              <div class="valid-feedback">
                Looks good!
              </div>
          </div>
          <div class="mb-3">
  <img src="<%= originalListing %>" alt="Listing Image" />
</div>

          <div class="mb-3"> 
            <label for="image" class="form-label"> image</label>
            <input type="file" 
             id="image" 
             class="form-control"
              name="listing[image]"
              >
              <div class="valid-feedback">
                Looks good!
              </div>
          </div>
          <div class="mb-3">
                   <select 
                class="form-select" 
                name="listing[category]" 
                id="category" 
               required>
             <option value="">-- Select a category --</option>
             <option value="Cities" <%= listing?.category === "Cities" ? 'selected' : '' %>>Cities</option>
             <option value="mountain" <%= listing?.category === "mountain" ? 'selected' : '' %>>Mountain</option>
             <option value="beaches" <%= listing?.category === "beaches" ? 'selected' : '' %>>Beaches</option>
              <option value="Pools" <%= listing?.category === "Pools" ? 'selected' : '' %>>Pools</option>
              <option value="Lakes" <%= listing?.category === "Lakes" ? 'selected' : '' %>>Lakes</option>
              <option value="Farms" <%= listing?.category === "Farms" ? 'selected' : '' %>>Farms</option>
               <option value="camping" <%= listing?.category === "camping" ? 'selected' : '' %>>Camping</option>
              <option value="Arctic" <%= listing?.category === "Arctic" ? 'selected' : '' %>>Arctic</option>
            <option value="Play" <%= listing?.category === "Play" ? 'selected' : '' %>>Play</option>
            <option value="boats" <%= listing?.category === "boats" ? 'selected' : '' %>>Boats</option>
            <option value="Trending" <%= listing?.category === "Trending" ? 'selected' : '' %>>Trending</option>
            <option value="Castles" <%= listing?.category === "Castles" ? 'selected' : '' %>>Castles</option>
          </select>

          </div>
          <div class="mb-3">
            <label for="price" class="form-label">price</label>
            <input type="number" 
            value="<%=listing.price%>" 
            id="price" 
            class="form-control"
             name="listing[price]"
             required>
          </div>
          <div> 
            <label for="location" class="form-label" >Location</label>
            <input type="text"
             value="<%=listing.location%>" 
             class="form-control"
             id="location"
              name="listing[location]" required>
          </div>
          <div>
            <label for="country" class="form-label">Country</label>
            <input type="text" 
            value="<%=listing.country%>"
            id="country"
             class="form-control" 
             name="listing[country]" required>
         </div>
         <br>
        
        <button class="btn add-btn mt-3 mb-5"> edit</button>
        <br>
    </form>
    </div>
    <script src="/js/script.js" ></script>

    